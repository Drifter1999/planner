<!doctype html>
<html class="no-js" lang="zxx" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="utf-8">
        <title>Category</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="manifest" href="site.webmanifest">
		<link rel="shortcut icon" type="image/x-icon" href="/assets/img/favicon.ico">

		<!-- CSS here -->
            <link rel="stylesheet" href="/assets/css/bootstrap.min.css">
            <link rel="stylesheet" href="/assets/css/owl.carousel.min.css">
            <link rel="stylesheet" href="/assets/css/slicknav.css">
            <link rel="stylesheet" href="/assets/css/flaticon.css">
            <link rel="stylesheet" href="/assets/css/animate.min.css">
            <link rel="stylesheet" href="/assets/css/magnific-popup.css">
            <link rel="stylesheet" href="/assets/css/fontawesome-all.min.css">
            <link rel="stylesheet" href="/assets/css/themify-icons.css">
            <link rel="stylesheet" href="/assets/css/slick.css">
            <link rel="stylesheet" href="/assets/css/nice-select.css">
            <link rel="stylesheet" href="/assets/css/style.css">
        <style>
            body {
                background: hsl(220deg, 10%, 97%);
                margin: 0;
                padding: 0;
            }

            .buttons-container {
                width: 20%;
                /*height: 100vh;*/
                display: flex;
                align-items: center;
                justify-content: center;
            }

            button {
                background: white;
                border: solid 2px black;
                /*padding: .375em 1.125em;*/
                padding: .5em 1.125em;
                margin: 20px;
                width: 350px;
                font-size: .5rem;
            }

            .button-arounder {
                font-size: 1.5rem;
                background: hsl(190deg, 30%, 15%);
                color: hsl(190deg, 10%, 95%);

                box-shadow: 0 0px 0px hsla(190deg, 15%, 5%, .2);
                transfrom: translateY(0);
                border-top-left-radius: 0px;
                border-top-right-radius: 0px;
                border-bottom-left-radius: 0px;
                border-bottom-right-radius: 0px;

                --dur: .15s;
                --delay: .15s;
                --radius: 16px;

                transition:
                        border-top-left-radius var(--dur) var(--delay) ease-out,
                        border-top-right-radius var(--dur) calc(var(--delay) * 2) ease-out,
                        border-bottom-right-radius var(--dur) calc(var(--delay) * 3) ease-out,
                        border-bottom-left-radius var(--dur) calc(var(--delay) * 4) ease-out,
                        box-shadow calc(var(--dur) * 4) ease-out,
                        transform calc(var(--dur) * 4) ease-out,
                        background calc(var(--dur) * 4) steps(4, jump-end);
            }

            .button-arounder:hover,
            .button-arounder:focus {
                box-shadow: 0 4px 8px hsla(190deg, 15%, 5%, .2);
                transform: translateY(-4px);
                background: hsl(230deg, 50%, 45%);
                border-top-left-radius: var(--radius);
                border-top-right-radius: var(--radius);
                border-bottom-left-radius: var(--radius);
                border-bottom-right-radius: var(--radius);
            }
        </style>
   </head>

   <body>
    <!-- Preloader Start -->
    <div id="preloader-active">
        <div class="preloader d-flex align-items-center justify-content-center">
            <div class="preloader-inner position-relative">
                <div class="preloader-circle"></div>
                <div class="preloader-img pere-text">
                    <img src="/assets/img/logo/loder.jpg" alt="">
                </div>
            </div>
        </div>
    </div>
    <header>
        <div th:insert="~{fragment/header :: header}"></div>
    </header>
    <main>

        <!-- Hero Start-->
        <div class="hero-area2  slider-height2 hero-overly2 d-flex align-items-center ">
            <div class="container">
                <div class="row">
                    <div class="col-xl-12">
                        <div class="hero-cap text-center pt-50">
                            <h2>Catagories</h2>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--Hero End -->

        <!-- Area Setting-->
        <div class="popular-location section-padding30">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="section-tittle text-center mb-80">
                            <span>지역</span>
                            <h2>하나를 골라주세요.</h2>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="buttons-container" th:each="area : ${ApiArr}">
                        <button class="button-arounder"
                                th:value="${area.code}"
                                th:text="${area.name}"
                                onclick="getCityLists(this)"></button>
                    </div>
                </div>
            </div>
        </div>

        <div class="popular-location section-padding30">
            <div class="container" >
                <div class="row">
                    <div class="col-lg-12">
                        <div class="section-tittle text-center mb-80" id="CategoryText" style="display: none;">
                            <span>Choose a place</span>
                            <h2>Locations</h2>
                        </div>
                    </div>
                </div>
                <div class="row" id="citiesList">

                </div>
            </div>
        </div>

        <!-- Categories Area Start -->
        <div class="categories-area section-padding30" style="display: none;" id="ContentList">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        <!-- Section Tittle -->
                        <div class="section-tittle text-center mb-80">
                            <span>We are offering for you</span>
                            <h2>Featured Categories</h2>
                        </div>
                    </div>
                </div>
                <div class="row" id="content">

                </div>
            </div>
        </div>
    </main>
    <footer>
        <div th:insert="~{fragment/footer1 :: footer1}"></div>
    </footer>

    <!-- Scroll Up -->
    <div id="back-top" >
        <a title="Go to Top" href="#"> <i class="fas fa-level-up-alt"></i></a>
    </div>


    <!-- JS here -->
		<!-- All JS Custom Plugins Link Here here -->
        <script src="/assets/js/vendor/modernizr-3.5.0.min.js"></script>
		<!-- Jquery, Popper, Bootstrap -->
		<script src="/assets/js/vendor/jquery-1.12.4.min.js"></script>
        <script src="/assets/js/popper.min.js"></script>
        <script src="/assets/js/bootstrap.min.js"></script>
	    <!-- Jquery Mobile Menu -->
        <script src="/assets/js/jquery.slicknav.min.js"></script>

		<!-- Jquery Slick , Owl-Carousel Plugins -->
        <script src="/assets/js/owl.carousel.min.js"></script>
        <script src="/assets/js/slick.min.js"></script>
		<!-- One Page, Animated-HeadLin -->
        <script src="/assets/js/wow.min.js"></script>
		<script src="/assets/js/animated.headline.js"></script>
        <script src="/assets/js/jquery.magnific-popup.js"></script>

		<!-- Nice-select, sticky -->
        <script src="/assets/js/jquery.nice-select.min.js"></script>
		<script src="/assets/js/jquery.sticky.js"></script>
        
        <!-- contact js -->
        <script src="/assets/js/contact.js"></script>
        <script src="/assets/js/jquery.form.js"></script>
        <script src="/assets/js/jquery.validate.min.js"></script>
        <script src="/assets/js/mail-script.js"></script>
        <script src="/assets/js/jquery.ajaxchimp.min.js"></script>
        
		<!-- Jquery Plugins, main Jquery -->	
        <script src="/assets/js/plugins.js"></script>
        <script src="/assets/js/main.js"></script>
        <script>
            function getCityLists(selector) {

                var val = selector.value;
                var categoryText = document.getElementById("CategoryText");
                var ContentList = document.getElementById("ContentList");
                var containerContent = document.getElementById("content");
                if (val.length > 1){

                    var xhr = new XMLHttpRequest();
                    var url = "/cities?province="+val
                    xhr.open("GET", url, true);
                    xhr.send();
                    xhr.onreadystatechange = function () {
                      if (xhr.readyState == 4 && xhr.status == 200){
                          const str = xhr.responseText.split(",");
                          categoryText.style.display = "block";
                          ContentList.style.display = "none";
                          var container = document.getElementById("citiesList");
                          container.innerHTML="";
                          containerContent.innerHTML="";

                          for (var i = 0; i < str.length; i++) {
                              var locationDiv = document.createElement("div");
                              locationDiv.className = "col-lg-4 col-md-6 col-sm-6";

                              var singleLocationDiv = document.createElement("div");
                              singleLocationDiv.className = "single-location mb-30";

                              var locationImgDiv = document.createElement("div");
                              locationImgDiv.className = "location-img";

                              var img = document.createElement("img");
                              var imgIndex = i + 1; // 이미지 인덱스 (1부터 시작)
                              var imgPath = "";

                              if (val === "31") {
                                  imgPath = "/assets/img/gallery/location/gyeongi/location" + imgIndex + ".jpg";
                              } else if (val === "32") {
                                  imgPath = "/assets/img/gallery/location/gangwon/location" + imgIndex + ".jpg";
                              } else if (val === "33") {
                                  imgPath = "/assets/img/gallery/location/choongbuk/location" + imgIndex + ".jpg";
                              } else if (val === "34") {
                                  imgPath = "/assets/img/gallery/location/choongnam/location" + imgIndex + ".jpg";
                              } else if (val === "35") {
                                  imgPath = "/assets/img/gallery/location/gyeongbuk/location" + imgIndex + ".jpg";
                              } else if (val === "36") {
                                  imgPath = "/assets/img/gallery/location/gyeongnam/location" + imgIndex + ".jpg";
                              } else if (val === "37") {
                                  imgPath = "/assets/img/gallery/location/jeonbuk/location" + imgIndex + ".jpg";
                              } else if (val === "38") {
                                  imgPath = "/assets/img/gallery/location/jeonnam/location" + imgIndex + ".jpg";
                              } else if (val === "39") {
                                  imgPath = "/assets/img/gallery/location/jeju/location" + imgIndex + ".jpg";
                              }

                              img.src = imgPath;
                              img.alt = "";

                              var locationDetailsDiv = document.createElement("div");
                              locationDetailsDiv.className = "location-details";

                              var p = document.createElement("p");
                              var NewStr = str[i].replace(/[\[\]"]/g, '');
                              p.textContent = NewStr;

                              var button = document.createElement("button");
                              button.className = "location-btn";
                              button.textContent = "시설 찾기";
                              button.value=str[i];
                              button.addEventListener("click", function (selector){
                                  getContentLists(this)
                              });
                              button.style.width= "80%";

                              locationDetailsDiv.appendChild(p);
                              locationDetailsDiv.appendChild(button);

                              locationImgDiv.appendChild(img);

                              singleLocationDiv.appendChild(locationImgDiv);
                              singleLocationDiv.appendChild(locationDetailsDiv);

                              locationDiv.appendChild(singleLocationDiv);

                              container.appendChild(locationDiv);

                          }
                      }
                    };
                }else {

                    var citiesList = document.getElementById("citiesList");

                    citiesList.innerHTML="";
                    containerContent.innerHTML="";
                    categoryText.style.display = "none";
                    ContentList.style.display = "none"

                    var contentList = [
                        {
                            contentIcon : "flaticon-travel",
                            content : "관광지",
                            contentExplain : "해변에서 산까지 당신이 원하는 관광지를 선택하세요"
                        },
                        {
                            contentIcon : "flaticon-respect",
                            content : "레포츠",
                            contentExplain: "흥겨운 여행을 떠나 다양한 레저 스포츠를 경험해보세요."
                        },
                        {
                            contentIcon : "flaticon-home",
                            content : "숙박",
                            contentExplain : "편안하고 매력적인 숙박시설을 선택해보세요."
                        },
                        {
                            contentIcon : "flaticon-food",
                            content : "음식점",
                            contentExplain: "전통적인 음식부터 우아한 다이닝까지 경험해보세요."}
                    ];

                    for (var i = 0 ; i < contentList.length ; i++) {
                        var colDiv = document.createElement("div");
                        colDiv.className = "col-lg-3 col-md-6 col-sm-6";

                        var singleCatDiv = document.createElement("div");
                        singleCatDiv.className = "single-cat text-center mb-50";

                        var catIconDiv = document.createElement("div");
                        catIconDiv.className = "cat-icon";

                        var spanIcon = document.createElement("span");
                        spanIcon.className = contentList[i].contentIcon;

                        var catCapDiv = document.createElement("div");
                        catCapDiv.className = "cat-cap";

                        var heading = document.createElement("h5");
                        var link = document.createElement("a");
                        link.href = "#";
                        link.textContent = contentList[i].content;
                        heading.appendChild(link);

                        var paragraph = document.createElement("p");
                        paragraph.textContent = contentList[i].contentExplain;

                        var viewDetailsLink = document.createElement("a");
                        viewDetailsLink.href = "/header/listing?"
                            + "area=" + encodeURIComponent(selector.textContent)
                            + "&content=" + encodeURIComponent(contentList[i].content);
                        viewDetailsLink.textContent = "View Details";


                        catCapDiv.appendChild(heading);
                        catCapDiv.appendChild(paragraph);
                        catCapDiv.appendChild(viewDetailsLink);

                        catIconDiv.appendChild(spanIcon);

                        singleCatDiv.appendChild(catIconDiv);
                        singleCatDiv.appendChild(catCapDiv);

                        colDiv.appendChild(singleCatDiv);

                        containerContent.appendChild(colDiv);

                    }
                    ContentList.style.display = "block";
                }
            }

            function getContentLists(selector){

                var ContentList = document.getElementById("ContentList");
                var str = selector.value.replace(/[\[\]"]/g, '');

                var contentList = [
                    {
                        contentIcon : "flaticon-travel",
                        content : "관광지",
                        contentExplain : "해변에서 산까지 당신이 원하는 관광지를 선택하세요"
                    },
                    {
                        contentIcon : "flaticon-respect",
                        content : "레포츠",
                        contentExplain: "흥겨운 여행을 떠나 다양한 레저 스포츠를 경험해보세요."
                    },
                    {
                        contentIcon : "flaticon-home",
                        content : "숙박",
                        contentExplain : "편안하고 매력적인 숙박시설을 선택해보세요."
                    },
                    {
                        contentIcon : "flaticon-food",
                        content : "음식점",
                        contentExplain: "전통적인 음식부터 우아한 다이닝까지 경험해보세요."}
                ];

                const container = document.getElementById("content");
                container.innerHTML="";

                for (var i = 0 ; i < contentList.length ; i++) {
                    var colDiv = document.createElement("div");
                    colDiv.className = "col-lg-3 col-md-6 col-sm-6";

                    var singleCatDiv = document.createElement("div");
                    singleCatDiv.className = "single-cat text-center mb-50";

                    var catIconDiv = document.createElement("div");
                    catIconDiv.className = "cat-icon";

                    var spanIcon = document.createElement("span");
                    spanIcon.className = contentList[i].contentIcon;

                    var catCapDiv = document.createElement("div");
                    catCapDiv.className = "cat-cap";

                    var heading = document.createElement("h5");
                    var link = document.createElement("a");
                    link.href = "#";
                    link.textContent = contentList[i].content;
                    heading.appendChild(link);

                    var paragraph = document.createElement("p");
                    paragraph.textContent = contentList[i].contentExplain;

                    var viewDetailsLink = document.createElement("a");
                    viewDetailsLink.href = "/header/listing?"
                        + "area=" + encodeURIComponent(str)
                        + "&content=" + encodeURIComponent(contentList[i].content);
                    viewDetailsLink.textContent = "View Details";


                    catCapDiv.appendChild(heading);
                    catCapDiv.appendChild(paragraph);
                    catCapDiv.appendChild(viewDetailsLink);

                    catIconDiv.appendChild(spanIcon);

                    singleCatDiv.appendChild(catIconDiv);
                    singleCatDiv.appendChild(catCapDiv);

                    colDiv.appendChild(singleCatDiv);

                    container.appendChild(colDiv);

                }

                ContentList.style.display = "block";
            }
        </script>
    </body>
</html>